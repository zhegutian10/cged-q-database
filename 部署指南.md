# 清代官员数据库网页部署指南

本指南介绍如何将清代官员信息可视化系统部署到云端，提供多种免费和付费方案。

---

## 📋 部署前准备

### 需要部署的文件
```
项目根目录/
├── index.html          # 主页面
├── back.jpg           # 背景图片
├── data/
│   └── CGED-Q Public Release 1760-1798  1 Jul 2024.tab  # 数据文件
└── lib/
    ├── echarts.min.js      # ECharts库
    └── papaparse.min.js    # PapaParse库
```

**重要提示**：
- 确保所有文件路径保持相对路径
- 数据文件约 10MB，需要支持大文件的托管服务
- 需要支持静态文件托管的服务

---

## 🌐 方案一：GitHub Pages（推荐 - 免费）

### 优点
- ✅ 完全免费
- ✅ 自动HTTPS
- ✅ 支持自定义域名
- ✅ 全球CDN加速
- ✅ 无需服务器维护

### 部署步骤

#### 1. 创建GitHub仓库
```bash
# 在项目目录下初始化Git
git init

# 添加所有文件
git add index.html back.jpg data/ lib/

# 提交
git commit -m "Initial commit: 清代官员数据库"

# 关联远程仓库（替换为你的GitHub用户名）
git remote add origin https://github.com/你的用户名/cged-q-database.git

# 推送到GitHub
git push -u origin main
```

#### 2. 启用GitHub Pages
1. 进入GitHub仓库页面
2. 点击 **Settings** > **Pages**
3. 在 **Source** 下选择 **main** 分支
4. 点击 **Save**
5. 等待几分钟，访问 `https://你的用户名.github.io/cged-q-database/`

#### 3. 自定义域名（可选）
1. 在域名提供商处添加CNAME记录：
   ```
   类型: CNAME
   主机: www
   值: 你的用户名.github.io
   ```
2. 在GitHub Pages设置中添加自定义域名
3. 启用 **Enforce HTTPS**

---

## 🚀 方案二：Vercel（推荐 - 免费）

### 优点
- ✅ 完全免费
- ✅ 自动部署
- ✅ 全球CDN
- ✅ 自动HTTPS
- ✅ 支持自定义域名

### 部署步骤

#### 1. 安装Vercel CLI
```bash
npm install -g vercel
```

#### 2. 部署
```bash
# 在项目目录下运行
vercel

# 按提示操作：
# - 登录Vercel账号
# - 选择项目设置
# - 确认部署
```

#### 3. 访问网站
部署完成后，Vercel会提供一个URL：
```
https://你的项目名.vercel.app
```

#### 4. 自定义域名（可选）
1. 在Vercel项目设置中添加域名
2. 按提示配置DNS记录

---

## ☁️ 方案三：Netlify（免费）

### 优点
- ✅ 免费额度充足
- ✅ 拖拽式部署
- ✅ 自动HTTPS
- ✅ 表单处理功能

### 部署步骤

#### 方法1：拖拽部署
1. 访问 [netlify.com](https://www.netlify.com)
2. 注册/登录账号
3. 将整个项目文件夹拖拽到部署区域
4. 等待部署完成

#### 方法2：Git部署
1. 将代码推送到GitHub
2. 在Netlify中选择 **New site from Git**
3. 连接GitHub仓库
4. 配置构建设置（静态网站无需配置）
5. 点击 **Deploy site**

---

## 🏢 方案四：阿里云OSS（国内推荐）

### 优点
- ✅ 国内访问速度快
- ✅ 价格便宜（约￥0.12/GB/月）
- ✅ 稳定可靠
- ✅ 支持自定义域名

### 部署步骤

#### 1. 创建OSS Bucket
1. 登录阿里云控制台
2. 进入对象存储OSS
3. 创建Bucket：
   - 区域：选择离用户最近的
   - 读写权限：公共读
   - 其他保持默认

#### 2. 上传文件
```bash
# 使用ossutil工具
ossutil cp -r ./ oss://你的bucket名称/ --include "*.html" --include "*.jpg" --include "*.js" --include "*.tab"
```

或通过控制台手动上传：
1. 进入Bucket管理
2. 点击 **文件管理** > **上传文件**
3. 上传所有文件

#### 3. 配置静态网站托管
1. 在Bucket设置中找到 **静态页面**
2. 开启静态网站托管
3. 默认首页：`index.html`
4. 默认404页：`index.html`

#### 4. 绑定自定义域名（可选）
1. 在域名管理中添加CNAME记录
2. 在OSS中绑定域名
3. 配置HTTPS证书

访问地址：
```
http://你的bucket名称.oss-cn-beijing.aliyuncs.com
或
https://你的自定义域名
```

---

## 🌏 方案五：腾讯云COS（国内备选）

### 部署步骤
与阿里云OSS类似：
1. 创建COS存储桶
2. 上传文件
3. 配置静态网站
4. 绑定域名（可选）

---

## 📊 方案对比

| 方案 | 费用 | 速度（国内） | 速度（国外） | 难度 | 推荐度 |
|------|------|-------------|-------------|------|--------|
| GitHub Pages | 免费 | 较慢 | 快 | ⭐⭐ | ⭐⭐⭐⭐ |
| Vercel | 免费 | 快 | 快 | ⭐ | ⭐⭐⭐⭐⭐ |
| Netlify | 免费 | 快 | 快 | ⭐ | ⭐⭐⭐⭐ |
| 阿里云OSS | 低费用 | 很快 | 较慢 | ⭐⭐⭐ | ⭐⭐⭐⭐⭐ |
| 腾讯云COS | 低费用 | 很快 | 较慢 | ⭐⭐⭐ | ⭐⭐⭐⭐ |

---

## 🔧 部署后优化

### 1. 启用GZIP压缩
大多数云服务会自动启用，如需手动配置：
- GitHub Pages：自动启用
- Vercel/Netlify：自动启用
- OSS/COS：在控制台中启用

### 2. 配置CDN加速
- 阿里云：开启CDN加速
- 腾讯云：开启CDN加速
- Vercel/Netlify：自带全球CDN

### 3. 设置缓存策略
在云服务控制台配置：
```
*.html - 不缓存或短时间缓存
*.js, *.css - 长时间缓存
*.jpg, *.png - 长时间缓存
*.tab - 中等时间缓存
```

### 4. 监控和分析
- Google Analytics：添加网站分析
- 百度统计：国内用户分析
- 云服务自带监控：查看访问量和流量

---

## 🛡️ 安全建议

### 1. HTTPS配置
- 所有方案都支持免费HTTPS
- 建议强制使用HTTPS

### 2. 访问控制
- 如需限制访问，可以：
  - 添加密码保护（Netlify支持）
  - 使用IP白名单（OSS/COS支持）
  - 添加身份验证

### 3. 数据备份
- 定期备份数据文件
- 使用Git版本控制
- 云服务通常有自动备份

---

## 📝 推荐部署方案

### 个人/学术用途
**推荐：Vercel 或 GitHub Pages**
- 完全免费
- 部署简单
- 全球访问

### 国内用户为主
**推荐：阿里云OSS**
- 访问速度快
- 价格便宜
- 稳定可靠

### 需要高级功能
**推荐：Netlify**
- 表单处理
- 函数计算
- A/B测试

---

## 🆘 常见问题

### Q1: 数据文件太大无法上传？
**A**: 
- GitHub有100MB单文件限制，使用Git LFS
- Vercel/Netlify支持大文件
- OSS/COS无限制

### Q2: 国内访问GitHub Pages很慢？
**A**: 
- 使用Vercel或Netlify（有国内CDN节点）
- 或使用阿里云OSS/腾讯云COS

### Q3: 如何更新网站内容？
**A**: 
- Git方案：推送新代码即可自动部署
- OSS/COS：重新上传文件
- Vercel/Netlify：推送代码或手动上传

### Q4: 需要备案吗？
**A**: 
- 国外服务（GitHub/Vercel/Netlify）：不需要
- 国内服务（阿里云/腾讯云）：使用自定义域名需要备案

---

## 📞 技术支持

如遇到部署问题，可以：
1. 查看各平台官方文档
2. 在GitHub Issues中提问
3. 联系云服务商客服

---

**祝部署顺利！** 🎉